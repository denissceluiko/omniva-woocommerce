{"version":3,"file":"terminal-selection-block/checkout/frontend.js","mappings":"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","sources":["webpack://omnivalt-woocommerce/./src/terminal-selection-block/checkout/block.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/debug.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/omniva.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/terminals.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/text.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/utils.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/wc-cart.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/checkout/frontend.scss","webpack://omnivalt-woocommerce/external window \"React\"","webpack://omnivalt-woocommerce/external window \"lodash\"","webpack://omnivalt-woocommerce/external window [\"wc\",\"blocksCheckout\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"components\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"data\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"element\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"i18n\"]","webpack://omnivalt-woocommerce/webpack/bootstrap","webpack://omnivalt-woocommerce/webpack/runtime/compat get default export","webpack://omnivalt-woocommerce/webpack/runtime/define property getters","webpack://omnivalt-woocommerce/webpack/runtime/hasOwnProperty shorthand","webpack://omnivalt-woocommerce/webpack/runtime/make namespace object","webpack://omnivalt-woocommerce/./src/terminal-selection-block/checkout/frontend.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { useEffect, useState, useCallback, useRef } from '@wordpress/element';\nimport { SelectControl, TextareaControl } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { debounce } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { getDestination, getActiveShippingRates } from '../global/wc-cart';\nimport { getOmnivaData, getDynamicOmnivaData, isOmnivaTerminalMethod } from '../global/omniva';\nimport { getTerminalsByCountry, loadMap, removeMap, loadCustomSelect } from '../global/terminals';\nimport { txt } from '../global/text';\nimport { addTokenToValue, isObjectEmpty} from '../global/utils';\nimport { debug, enableStateDebug } from '../global/debug';\n\nexport const Block = ({ checkoutExtensionData, extensions }) => {\n    const terminalValidationErrorId = 'omnivalt_terminal';\n    const { setExtensionData } = checkoutExtensionData;\n    const [mapValues, setMapValues] = useState({\n        country: 'LT',\n        postcode: ''\n    });\n    const [destination, setDestination] = useState(null);\n    const [activeRates, setActiveRates] = useState([]);\n    const [omnivaData, setOmnivaData] = useState({});\n    const [terminals, setTerminals] = useState([]);\n    const [terminalsOptions, setTerminalsOptions] = useState([\n        {\n            label: txt.select_terminal,\n            value: '',\n        }\n    ]);\n    const [showBlock, setShowBlock] = useState(addTokenToValue(false)); //Need token to avoid undetected change when changing true>false>true in other useEffect functions\n    const [blockText, setBlockText] = useState({\n        title: txt.title_terminal,\n        label: txt.select_terminal,\n        error: txt.error_terminal,\n    });\n    const [selectedOmnivaTerminal, setSelectedOmnivaTerminal] = useState('');\n    const [selectedRateId, setSelectedRateId] = useState('');\n    const [containerParams, setContainerParams] = useState({\n        provider: 'unknown',\n        type: 'unknown',\n    });\n    const [containerErrorClass, setContainerErrorClass] = useState('');\n    const elemTerminalSelectField = useRef(null);\n    const elemMapContainer = useRef(null);\n    const map = loadMap();\n    const customSelect = loadCustomSelect();\n\n    enableStateDebug('Block show', showBlock);\n    enableStateDebug('Terminals list', terminals);\n    enableStateDebug('Destination', destination);\n    enableStateDebug('Map values', mapValues);\n    enableStateDebug('Selected terminal', selectedOmnivaTerminal);\n    enableStateDebug('Selected rate ID', selectedRateId);\n    enableStateDebug('Omniva dynamic data', omnivaData);\n\n    const debouncedSetExtensionData = useCallback(\n        debounce((namespace, key, value) => {\n            setExtensionData(namespace, key, value);\n        }, 1000),\n        [setExtensionData]\n    );\n\n    const { setValidationErrors, clearValidationError } = useDispatch(\n        'wc/store/validation'\n    );\n\n    const validationError = useSelect((select) => {\n        const store = select('wc/store/validation');\n        return store.getValidationError(terminalValidationErrorId);\n    });\n\n    const shippingRates = useSelect((select) => {\n        const store = select('wc/store/cart');\n        return store.getCartData().shippingRates;\n    });\n\n    useEffect(() => {\n        if ( shippingRates.length ) {\n            setActiveRates(getActiveShippingRates(shippingRates));\n        } else {\n            debug('Empty param: shippingRates');\n        }\n    }, [\n        shippingRates\n    ]);\n\n    useEffect(() => {\n        setShowBlock(addTokenToValue(false));\n        debug('Received ' + activeRates.length + ' active rates:', activeRates);\n        for ( let i = 0; i < activeRates.length; i++ ) {\n            if ( ! activeRates[i].rate_id ) {\n                continue;\n            }\n            if ( ! activeRates[i].selected ) {\n                continue;\n            }\n            if ( isOmnivaTerminalMethod(activeRates[i].rate_id) && activeRates[i].selected ) {\n                setShowBlock(addTokenToValue(true));\n            }\n            setSelectedRateId(activeRates[i].rate_id);\n        }\n    }, [\n        activeRates\n    ]);\n\n    useEffect(() => {\n        if ( showBlock.value ) {\n            setDestination(getDestination(shippingRates));\n        }\n    }, [\n        showBlock\n    ]);\n\n    useEffect(() => {\n        if ( ! destination || destination.country.trim() == \"\" ) {\n            setMapValues({\n                country: 'LT',\n                postcode: ''\n            });\n        } else {\n            setMapValues({\n                country: destination.country,\n                postcode: destination.postcode\n            });\n        }\n    }, [\n        destination\n    ]);\n\n    useEffect(() => {\n        if ( ! isOmnivaTerminalMethod(selectedRateId) ) {\n            debug('The selected delivery method is not delivery to the Omniva terminal');\n            return;\n        }\n        if ( ! selectedRateId ) {\n            debug('Skipped retrieving dynamic Omniva data because the value of the selected rate ID is not received');\n            return;\n        }\n\n        getDynamicOmnivaData(mapValues.country, selectedRateId).then(response => {\n            if ( response.data ) {\n                const data = response.data;\n                setOmnivaData(data);\n            } else {\n                debug('Failed to get dynamic Omniva data');\n            }\n        });\n    }, [\n        mapValues,\n        selectedRateId\n    ]);\n\n    useEffect(() => {\n        if ( isObjectEmpty(omnivaData) ) {\n            debug('Skipped getting Terminals because the Omniva dynamic data is empty');\n            return;\n        }\n        if ( omnivaData.terminals_type === false ) {\n            debug('The selected delivery method does not have a terminals');\n            return;\n        }\n\n        const terminalsType = ('terminals_type' in omnivaData) ? omnivaData.terminals_type : 'omniva';\n        getTerminalsByCountry(mapValues.country, terminalsType).then(response => {\n            if ( response.data ) {\n                setTerminals(response.data);\n            } else {\n                debug('Failed to get terminals list');\n            }\n        });\n    }, [\n        omnivaData\n    ]);\n\n    useEffect(() => {\n        const text_obj = {\n            title: txt.title_terminal,\n            label: txt.select_terminal,\n            error: txt.error_terminal,\n        };\n        if ( ! isObjectEmpty(omnivaData) && ('terminals_type' in omnivaData) ) {\n            if ( omnivaData.terminals_type == 'post' ) {\n                text_obj.title = txt.title_post;\n                text_obj.label = txt.select_post;\n                text_obj.error = txt.error_post;\n            }\n        }\n        setBlockText(text_obj);\n    }, [\n        omnivaData\n    ]);\n\n    useEffect(() => {\n        if ( ! terminals.length ) {\n            debug('Skipped updating terminals block because the terminals list is empty');\n            return;\n        }\n\n        debug('Updating terminal selection options...');\n        const preparedTerminalsOptions = [\n            {\n                label: blockText.label,\n                value: '',\n            }\n        ];\n        for ( let i = 0; i < terminals.length; i++ ) {\n            preparedTerminalsOptions.push({\n                label: terminals[i].name,\n                value: terminals[i].id\n            });\n        }\n        setTerminalsOptions(preparedTerminalsOptions);\n    }, [\n        terminals\n    ]);\n\n    useEffect(() => {\n        if ( elemMapContainer.current ) {\n            if ( elemMapContainer.current.innerHTML !== \"\" ) {\n                debug('Removing previous custom field/map...');\n                removeMap(elemMapContainer.current);\n            }\n            let showMap = null;\n            let autoselect = true;\n            if ( 'show_map' in getOmnivaData() ) {\n                showMap = getOmnivaData().show_map;\n                autoselect = getOmnivaData().autoselect;\n                setContainerParams({\n                    provider: ('provider' in omnivaData) ? omnivaData.provider : 'unknown',\n                    type: ('terminals_type' in omnivaData) ? omnivaData.terminals_type : 'unknown'\n                });\n            }\n            if ( showMap === true ) {\n                debug('Initializing TMJS map...');\n                map.load_data({\n                    org_field: elemTerminalSelectField.current,\n                    map_container: elemMapContainer.current,\n                    terminals_type: omnivaData.terminals_type,\n                    provider: omnivaData.provider,\n                    country: mapValues.country,\n                    map_icon: omnivaData.map_icon,\n                    selected_terminal: selectedOmnivaTerminal\n                });\n                map.init(terminals);\n                map.set_search_value(mapValues.postcode);\n            } else if ( showMap === false ) {\n                debug('Initializing terminal select field...');\n                customSelect.load_data({\n                    org_field: elemTerminalSelectField.current,\n                    custom_container: elemMapContainer.current,\n                    provider: omnivaData.provider,\n                    terminals_type: omnivaData.terminals_type,\n                    country: mapValues.country,\n                    selected_terminal: selectedOmnivaTerminal,\n                    autoselect_terminal: autoselect\n                });\n                customSelect.set_terminals(terminals);\n                customSelect.init();\n                customSelect.set_search_value(mapValues.postcode);\n            } else {\n                debug('Failed to get map display param');\n            }\n        } else {\n            debug('Failed to get container for custom field/map');\n        }\n    }, [\n        terminalsOptions\n    ]);\n\n    /* Handle changing the select's value */\n    useEffect(() => {\n        setExtensionData(\n            'omnivalt',\n            'selected_terminal',\n            selectedOmnivaTerminal\n        );\n\n        if ( selectedOmnivaTerminal !== '' ) {\n            clearValidationError(terminalValidationErrorId);\n            setContainerErrorClass('');\n            return;\n        }\n\n        if ( selectedOmnivaTerminal === '' ) {\n            setValidationErrors({\n                [terminalValidationErrorId]: {\n                    message: blockText.error,\n                    hidden: false\n                }\n            });\n            setContainerErrorClass('error');\n        }\n    }, [\n        setExtensionData,\n        selectedOmnivaTerminal,\n        setValidationErrors,\n        clearValidationError,\n        blockText\n    ]);\n\n    useEffect(() => {\n        setExtensionData(\n            'omnivalt',\n            'selected_rate_id',\n            selectedRateId\n        );\n    }, [\n        setExtensionData,\n        selectedRateId\n    ]);\n\n    if ( ! showBlock.value ) {\n        return <></>\n    }\n\n    return (\n        <div className={`omnivalt-terminal-select-container provider-${containerParams.provider} type-${containerParams.type} ${containerErrorClass}`}>\n            <div id=\"omnivalt-terminal-container-org\" className=\"omnivalt-org-select\">\n                <SelectControl\n                    id=\"omnivalt-terminal-select-field\"\n                    label={blockText.title}\n                    value={selectedOmnivaTerminal}\n                    options={terminalsOptions}\n                    onChange={(value) => setSelectedOmnivaTerminal(value)}\n                    ref={elemTerminalSelectField}\n                />\n                {(validationError?.hidden || selectedOmnivaTerminal !== '') ? null : (\n                    <div className=\"wc-block-components-validation-error omnivalt-terminal-error\">\n                        <span>{validationError?.message}</span>\n                    </div>\n                )}\n            </div>\n            <div id=\"omnivalt-terminal-container-map\" className=\"omnivalt-map-select\" ref={elemMapContainer}><div class=\"omnivalt-loader\"></div></div>\n        </div>\n    );\n};\n","/**\n * External dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { getOmnivaData } from './omniva';\n\n/**\n * Variables\n */\nconst debug_enabled = getOmnivaData().debug;\nconst prefix_debug = 'OMNIVA BLOCKS DEBUG:';\n\n/**\n * Export functions\n */\nexport const debug = (...variables) => {\n    if ( ! debug_enabled ) {\n        return;\n    }\n    \n    console.log(prefix_debug, ...variables);\n};\n\nexport const enableStateDebug = (stateName, stateValue) => {\n    if ( ! debug_enabled ) {\n        return;\n    }\n\n    useEffect(() => {\n        console.log(prefix_debug, 'Changed state \"' + stateName + '\" value to:', stateValue);\n    }, [\n        stateValue\n    ]);\n};\n","/**\n * Internal dependencies\n */\nimport { debug } from './debug';\n\n/**\n * Export functions\n */\nexport const getOmnivaData = () => {\n    if ( ! wcSettings || ! wcSettings[\"omnivalt-blocks_data\"] ) {\n        return [];\n    }\n\n    return wcSettings[\"omnivalt-blocks_data\"];\n};\n\nexport const getDynamicOmnivaData = (country, method) => {\n    return fetch(`${getOmnivaData().ajax_url}?action=omnivalt_get_dynamic_data&country=${country}&method=${method}`, {\n        method: 'GET',\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    })\n    .then(response => response.json())\n    .catch(error => {\n        console.error('Error fetching terminals:', error);\n        return [];\n    });\n};\n\nexport const isOmnivaTerminalMethod = (methodKey) => {\n    for ( let [key, value] of Object.entries(getOmnivaData().methods) ) {\n        if ( methodKey == value ) {\n            debug('Detected Omniva method', value);\n            return true;\n        }\n    }\n\n    return false;\n};\n","import { txt } from './text';\nimport { getOmnivaData } from './omniva';\nimport { isObjectEmpty, insertAfter, getJsonDataFromUrl } from './utils';\n\nconst markSelectControlValue = ( selectElem, value ) => {\n    selectElem.value = value;\n    const event = new Event('change', { bubbles: true });\n    selectElem.dispatchEvent(event);\n};\n\nexport const getTerminalsByCountry = ( country, type ) => {\n    return fetch(`${getOmnivaData().ajax_url}?action=omnivalt_get_terminals&country=${country}&type=${type}`, {\n        method: 'GET',\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    })\n    .then(response => response.json())\n    .catch(error => {\n        console.error('Error fetching terminals:', error);\n        return [];\n    });\n};\n\nexport const loadMap = () => {\n    return {\n        lib: null,\n        elements: {},\n        translations: {},\n        params: {},\n\n        load_data: function ( params ) {\n            this.elements = {\n                org_field: this.set_param(params, 'org_field', null),\n                map_container: this.set_param(params, 'map_container', null)\n            };\n            this.params = {\n                provider: this.set_param(params, 'provider', 'omniva'),\n                terminals_type: this.set_param(params, 'terminals_type', 'terminal'),\n                selected_terminal: this.set_param(params, 'selected_terminal', ''),\n                icons_url: this.set_param(params, 'icons_url', `${getOmnivaData().plugin_url}assets/img/terminal-mapping/`),\n                country: this.set_param(params, 'country', 'LT'),\n                //show_map: getOmnivaData().show_map,\n                map_icon: this.set_param(params, 'map_icon', 'omnivalt_icon.png')\n            };\n            const modal_header = (this.params.terminals_type == 'post') ? txt.map.modal_title_post : txt.map.modal_title_terminal;\n            const provider = (this.params.provider in txt.providers) ? txt.providers[this.params.provider] : txt.providers.omniva;\n            this.translations = {\n                modal_header: provider + \" \" + modal_header,\n                terminal_list_header: (this.params.terminals_type == 'post') ? txt.map.modal_search_title_post : txt.map.modal_search_title_terminal,\n                select_pickup_point: (this.params.terminals_type == 'post') ? txt.map.select_post : txt.map.select_terminal,\n                seach_header: txt.map.search_placeholder,\n                search_btn: txt.map.search_button,\n                select_btn: txt.map.select_button,\n                modal_open_btn: txt.map.modal_open_button,\n                geolocation_btn: txt.map.use_my_location,\n                your_position: txt.map.my_position,\n                nothing_found: txt.map.not_found,\n                no_cities_found: txt.map.no_cities_found,\n                geolocation_not_supported: txt.map.geo_not_supported\n            };\n        },\n\n        set_param: function ( all_params, param_key, fail_value = null ) {\n            if ( ! (param_key in all_params) ) {\n                return fail_value;\n            }\n            return all_params[param_key];\n        },\n\n        init: function ( terminals ) {\n            if ( ! this.elements.map_container ) {\n                this.error('Failed to get a container for the map');\n                return;\n            }\n            this.lib = new TerminalMappingOmnivalt();\n            \n            this.lib.setImagesPath(this.params.icons_url);\n            this.lib.setTranslation(this.translations);\n            this.lib.dom.setContainerParent(this.elements.map_container);\n\n            this.lib.setParseMapTooltip(( location, leafletCoords ) => {\n                let tip = location.address + \" [\" + location.id + \"]\";\n                if ( location.comment ) {\n                    tip += \"<br/><i>\" + location.comment + \"</i>\";\n                }\n                return tip;\n            });\n\n            this.build_actions(this);\n\n            this.lib.init({\n                country_code: this.params.country,\n                identifier: 'omnivalt',\n                isModal: true,\n                modalParent: this.elements.map_container,\n                hideContainer: true,\n                hideSelectBtn: true,\n                cssThemeRule: 'tmjs-default-theme',\n                customTileServerUrl: 'https://maps.omnivasiunta.lt/tile/{z}/{x}/{y}.png',\n                customTileAttribution: '&copy; <a href=\"https://www.omniva.lt\">Omniva</a>' + ' | Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>',\n                terminalList: terminals,\n            });\n        },\n\n        build_actions: function( thisMap ) {\n            this.lib.sub('tmjs-ready', function( data ) {\n                thisMap.lib.map.createIcon('omnivalt_icon', thisMap.params.icons_url + thisMap.params.map_icon);\n                thisMap.lib.map.refreshMarkerIcons();\n                \n                let selected_location = data.map.getLocationById(thisMap.params.selected_terminal);\n                if ( typeof(selected_location) != 'undefined' && selected_location != null ) {\n                    thisMap.lib.dom.setActiveTerminal(selected_location);\n                    thisMap.lib.publish('terminal-selected', selected_location);\n                }\n            });\n\n            this.lib.sub(\"terminal-selected\", function( data ) {\n                markSelectControlValue(thisMap.elements.org_field, data.id);\n                thisMap.lib.dom.setActiveTerminal(data.id);\n                thisMap.lib.publish(\"close-map-modal\");\n            });\n        },\n\n        set_search_value: function( value ) {\n            value = value.trim();\n            if ( value == '' ) {\n                return;\n            }\n\n            this.lib.dom.searchNearest(value);\n            this.lib.dom.UI.modal.querySelector('.tmjs-search-input').value = value;\n        },\n\n        error: function( error_text ) {\n            console.error('OMNIVA MAP:', error_text);\n        }\n    };\n};\n\nexport const removeMap = ( mapContainer ) => {\n    while ( mapContainer.firstChild ) {\n        mapContainer.removeChild(mapContainer.lastChild);\n    }\n};\n\nexport const loadCustomSelect = () => {\n    return {\n        map: null,\n        selected: {},\n        terminals: [],\n        elements: {},\n        params: {},\n        translations: {},\n        loaded: false,\n\n        load_data: function( params ) {\n            this.elements = {\n                org_field: this.set_param(params, 'org_field', null),\n                custom_container: this.set_param(params, 'custom_container', null),\n                this_dropdown: null,\n                this_list: null,\n                this_container: null,\n                this_inner_container: null,\n                this_loader: null,\n                this_search: null,\n                this_search_msg: null,\n                this_show_more: null\n            };\n            this.params = {\n                provider: this.set_param(params, 'provider', 'omniva'),\n                terminals_type: this.set_param(params, 'terminals_type', 'terminal'),\n                country: this.set_param(params, 'country', 'LT'),\n                max_show: this.set_param(params, 'max_show', 8),\n                active_timeout: null,\n                autoselect: this.set_param(params, 'autoselect', true),\n                selected_terminal: this.set_param(params, 'selected_terminal', '')\n            };\n            const provider = (this.params.provider in txt.providers) ? txt.providers[this.params.provider] : txt.providers.omniva;\n            this.translations = {\n                not_found: txt.select.not_found,\n                too_short: txt.select.search_too_short,\n                select_terminal: (this.params.terminals_type == 'post') ? txt.select.post_select : txt.select.terminal_select,\n                enter_address: txt.select.enter_address,\n                show_more: txt.select.show_more\n            };\n        },\n\n        set_param: function ( all_params, param_key, fail_value = null ) {\n            if ( ! (param_key in all_params) ) {\n                return fail_value;\n            }\n            return all_params[param_key];\n        },\n\n        init: function() {\n            if ( isObjectEmpty(this.elements) ) {\n                this.error('Load data is required before initialization');\n                return;\n            }\n            if ( ! this.elements.custom_container ) {\n                this.error('Failed to get a container for the custom field');\n                return;\n            }\n\n            if ( this.elements.org_field.value ) {\n                this.set_selected();\n            }\n\n            let listElem, link, linkText = null;\n            \n            this.elements.this_container = document.createElement('div');\n            this.elements.this_container.classList.add('omnivalt-terminals-list');\n            \n            this.elements.this_dropdown = document.createElement('div');\n            this.elements.this_dropdown.classList.add('dropdown');\n            this.elements.this_dropdown.innerHTML = this.translations.select_terminal;\n            this.update_element_dropdown();\n\n            this.elements.this_search = document.createElement('input');\n            this.elements.this_search.type = 'text';\n            this.elements.this_search.classList.add('search-input');\n            this.elements.this_search.placeholder = this.translations.enter_address;\n\n            this.elements.this_search_msg = document.createElement('span');\n            this.elements.this_search_msg.classList.add('search-msg');\n            this.show_element_search_msg(false);\n\n            this.elements.this_loader = document.createElement('div');\n            this.elements.this_loader.classList.add('omnivalt-loader');\n            this.show_element_loader(false);\n\n            this.elements.this_list = document.createElement('ul');\n\n            this.elements.this_show_more = document.createElement('div');\n            this.elements.this_show_more.classList.add('show-more');\n            link = document.createElement('a');\n            linkText = document.createTextNode(this.translations.show_more);\n            link.appendChild(linkText);\n            link.href = '#';\n            this.elements.this_show_more.appendChild(link);\n\n            this.elements.this_inner_container = document.createElement('div');\n            this.elements.this_inner_container.classList.add('inner-container');\n            this.show_element_inner_container(false);\n\n            this.elements.this_inner_container.append(\n                this.elements.this_search,\n                this.elements.this_search_msg,\n                this.elements.this_loader,\n                this.elements.this_list,\n                this.elements.this_show_more\n            );\n            this.elements.this_container.append(\n                this.elements.this_dropdown,\n                this.elements.this_inner_container\n            );\n            this.elements.custom_container.append(this.elements.this_container);\n\n            this.reset_terminals();\n            this.refresh_element_list();\n\n            /* Events */\n            this.elements.this_show_more.addEventListener('click', (e) => {\n                e.preventDefault();\n                this.show_element_all_options();\n            });\n\n            this.elements.this_dropdown.addEventListener('click', (e) => {\n                this.toggle_dropdown();\n            });\n\n            this.elements.org_field.addEventListener('click', (e) => {\n                this.set_selected();\n                this.update_element_dropdown();\n                this.elements.this_list.querySelector('li[data-id=\"' + this.elements.org_field.value + '\"').classList.add('selected');\n            });\n\n            this.elements.this_search.addEventListener('keyup', () => {\n                this.show_element_search_msg(false);\n                this.show_element_loader(true);\n                clearTimeout(this.params.active_timeout);\n                this.params.active_timeout = setTimeout(() => {\n                    this.params.autoselect = false;\n                    this.geo_suggest(this.elements.this_search.value);\n                }, 400);\n            });\n\n            this.elements.this_search.addEventListener('keyup', (e) => {\n                if ( e.which == '13' ) {\n                    e.preventDefault();\n                }\n            });\n\n            document.addEventListener('mousedown', (e) => {\n                if ( this.elements.this_container != e.target\n                    && ! this.elements.this_container.contains(e.target) \n                    && this.elements.this_container.classList.contains('open')\n                ) {\n                    this.toggle_dropdown(true);\n                }\n            });\n\n            this.loaded = true;\n        },\n\n        set_terminals: function( terminals ) {\n            for ( let i = 0; i < terminals.length; i++ ) {\n                terminals[i]['distance'] = false;\n            }\n            this.terminals = terminals;\n        },\n\n        set_selected: function() {\n            this.selected = {\n                id: this.params.selected_terminal,\n                text: this.elements.org_field.options[this.elements.org_field.selectedIndex].text,\n                distance: false\n            };\n        },\n\n        set_search_value: function( value ) {\n            this.elements.this_search.value = value.trim();\n            this.geo_suggest(this.elements.this_search.value);\n        },\n\n        activate_autoselect: function() {\n            if ( this.params.selected_terminal == '' ) {\n                let firstElem = this.elements.this_list.querySelector('li:not(.city)');\n                this.mark_element_list_selected(firstElem);\n            }\n        },\n\n        update_element_dropdown: function() {\n            if ( 'text' in this.selected ) {\n                this.elements.this_dropdown.innerHTML = this.selected.text;\n            }\n        },\n\n        show_element_loader: function( show = false ) {\n            if ( show ) {\n                this.elements.this_loader.style.display = 'block';\n            } else {\n                this.elements.this_loader.style.display = 'none';\n            }\n        },\n\n        show_element_search_msg: function( show = false ) {\n            if ( show ) {\n                this.elements.this_search_msg.style.display = 'block';\n            } else {\n                this.elements.this_search_msg.style.display = 'none';\n            }\n        },\n\n        show_element_inner_container: function( show = false ) {\n            if ( show ) {\n                this.elements.this_inner_container.style.display = 'block';\n            } else {\n                this.elements.this_inner_container.style.display = 'none';\n            }\n        },\n\n        refresh_element_list: function() {\n            let counter = 0;\n            let city = false;\n            let html = '';\n            let listElem, listCityElem, boldTextElem, textElem, selectedElem = null;\n            let topOffset = 0;\n\n            this.clear_element_list();\n\n            for ( let terminal of this.terminals ) {\n                listElem = document.createElement('li');\n                listElem.setAttribute('data-id', terminal.id);\n                listElem.innerHTML = terminal.name;\n                if ( 'distance' in terminal && terminal.distance !== false ) {\n                    boldTextElem = document.createElement('strong');\n                    textElem = document.createTextNode('' + terminal.distance + 'km');\n                    boldTextElem.appendChild(textElem);\n                    listElem.innerHTML += ' ' + boldTextElem.outerHTML;\n                    counter++;\n                } else {\n                    this.elements.this_show_more.style.display = 'none';\n                }\n                if ( 'id' in this.selected && this.selected.id == terminal.id ) {\n                    listElem.classList.add('selected');\n                }\n                if ( counter > this.params.max_show ) {\n                    listElem.style.display = 'none';\n                }\n                if ( city != terminal.city ) {\n                    listCityElem = document.createElement('li');\n                    listCityElem.classList.add('city');\n                    listCityElem.innerHTML = terminal.city;\n                    if ( counter > this.params.max_show ) {\n                        listCityElem.style.display = 'none';\n                    }\n                    this.elements.this_list.append(listCityElem);\n                    city = terminal.city;\n                }\n                this.elements.this_list.append(listElem);\n            }\n\n            this.elements.this_list.querySelectorAll('li:not(.city)').forEach(el => el.addEventListener('click', () => {\n                this.mark_element_list_selected(el);\n            }));\n        },\n\n        clear_element_list: function() {\n            while ( this.elements.this_list.firstChild ) {\n                this.elements.this_list.removeChild(this.elements.this_list.lastChild);\n            }\n        },\n\n        unmark_element_list_selected: function() {\n            let selectedElem = this.elements.this_list.querySelector('li.selected');\n            if ( selectedElem ) {\n                selectedElem.classList.remove('selected');\n            }\n        },\n\n        mark_element_list_selected: function( listElem ) {\n            this.unmark_element_list_selected();\n            \n            const selectedTerminal = listElem.getAttribute('data-id');\n            \n            listElem.classList.add('selected');\n            markSelectControlValue(this.elements.org_field, selectedTerminal);\n            this.params.selected_terminal = selectedTerminal;\n            this.set_selected();\n            this.update_element_dropdown();\n            this.toggle_dropdown(true);\n        },\n\n        toggle_dropdown: function( forceClose = false ) {\n            if ( this.elements.this_container.classList.contains('open') || forceClose ) {\n                this.show_element_inner_container(false);\n                this.elements.this_container.classList.remove('open');\n            } else {\n                this.show_element_inner_container(true);\n                this.elements.this_container.classList.add('open');\n            }\n        },\n\n        show_element_all_options: function() {\n            this.elements.this_list.querySelectorAll('li').forEach(el => {\n                el.style.display = '';\n                this.elements.this_show_more.style.display = 'none';\n            });\n        },\n\n        hide_element_all_options: function() {\n            this.elements.this_list.querySelectorAll('li').forEach(el => {\n                el.style.display = 'none';\n                this.elements.this_show_more.style.display = '';\n            });\n        },\n\n        reset_terminals: function() {\n            for ( let i = 0; i < this.terminals.length; i++ ) {\n                this.terminals[i].distance = false;\n            }\n            this.terminals.sort(function(a, b) { //Sort by name\n                return a.city.localeCompare(b.city) || b.name - a.name;\n            });\n        },\n\n        geo_find_position: async function( address ) {\n            if ( address == '' || address.length < 3 ) {\n                this.reset_terminals();\n                this.show_element_all_options();\n                this.refresh_element_list();\n                return false;\n            }\n\n            let url = 'https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/findAddressCandidates?singleLine=' + address + '&sourceCountry=' + this.params.country + '&category=&outFields=Postal&maxLocations=1&forStorage=false&f=pjson';\n            const fetchData = async () => {\n                const data = await getJsonDataFromUrl(url);\n                return data;\n            };\n            let location_result = await fetchData();\n\n            if ( 'candidates' in location_result && location_result.candidates.length ) {\n                let location = location_result.candidates[0];\n                this.sort_list_by_distance(location.location.y, location.location.x);\n                this.refresh_element_list();\n                this.elements.this_show_more.style.display = '';\n                if ( this.params.autoselect ) {\n                    this.activate_autoselect();\n                }\n            }\n        },\n\n        geo_suggest: async function( address ) {\n            if ( address == '' || address.length < 3 ) {\n                this.reset_terminals();\n                this.show_element_all_options();\n                this.refresh_element_list();\n                this.show_element_loader(false);\n                if ( address.length ) {\n                    this.elements.this_search_msg.innerHTML = this.translations.too_short;\n                    this.show_element_search_msg(true);\n                }\n                return false;\n            }\n\n            let url = 'https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/suggest?text=' + address + '&f=pjson&sourceCountry=' + this.params.country + '&maxSuggestions=1';\n            const fetchData = async () => {\n                const data = await getJsonDataFromUrl(url);\n                return data;\n            };\n            let suggest_result = await fetchData();\n\n            if ( 'suggestions' in suggest_result && suggest_result.suggestions.length ) {\n                this.geo_find_position(suggest_result.suggestions[0].text);\n            } else {\n                this.elements.this_search_msg.innerHTML = this.translations.not_found;\n                this.show_element_search_msg(true);\n                this.hide_element_all_options();\n            }\n            this.show_element_loader(false);\n        },\n\n        sort_list_by_distance: function( y, x ) {\n            let distance;\n            for ( let i = 0; i < this.terminals.length; i++ ) {\n                distance = this.calculate_distance(y, x, this.terminals[i].coords.lat, this.terminals[i].coords.lng);\n                this.terminals[i].distance = distance.toFixed(2);\n            }\n\n            this.terminals.sort(( a, b ) => {\n                let dist1 = a.distance;\n                let dist2 = b.distance;\n                if ( parseFloat(dist1) < parseFloat(dist2) ) {\n                    return -1;\n                }\n                if ( parseFloat(dist1) > parseFloat(dist2) ) {\n                    return 1;\n                }\n                return 0;\n            });\n        },\n\n        calculate_distance: function( lat1, lon1, lat2, lon2 ) {\n            let R = 6371;\n            let dLat = this.to_radius(lat2 - lat1);\n            let dLon = this.to_radius(lon2 - lon1);\n            lat1 = this.to_radius(lat1);\n            lat2 = this.to_radius(lat2);\n\n            let a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.sin(dLon / 2) * Math.sin(dLon / 2) * Math.cos(lat1) * Math.cos(lat2);\n            let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n            let d = R * c;\n            return d;\n        },\n\n        to_radius( value ) {\n            return value * Math.PI / 180;\n        },\n\n        error: function( error_text ) {\n            console.error('OMNIVA CUSTOM SELECT:', error_text);\n        }\n    };\n};\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const txt = {\n    block_options: __('Block options', 'omnivalt'),\n    title_terminal: __('Parcel terminal', 'omnivalt'),\n    select_terminal: __('Select parcel terminal', 'omnivalt'),\n    error_terminal: __('Please select parcel terminal', 'omnivalt'),\n    cart_terminal_info: __('You can choose the parcel terminal on the Checkout page', 'omnivalt'),\n    loading_field: __('Loading select field...', 'omnivalt'),\n    title_post: __('Post office', 'omnivalt'),\n    select_post: __('Select post office', 'omnivalt'),\n    error_post: __('Please select post office', 'omnivalt'),\n    cart_post_info: __('You can choose the post office on the Checkout page', 'omnivalt'),\n    providers: {\n        omniva: __('Omniva', 'omnivalt'),\n        matkahuolto: __('Matkahuolto', 'omnivalt')\n    },\n    map: {\n        modal_title_post: __('post offices', 'omnivalt'),\n        modal_title_terminal: __('parcel terminals', 'omnivalt'),\n        modal_search_title_post: __('Post offices list', 'omnivalt'),\n        modal_search_title_terminal: __('Parcel terminals list', 'omnivalt'),\n        select_post: __('Select post office', 'omnivalt'),\n        select_terminal: __('Select terminal', 'omnivalt'),\n        search_placeholder: __('Enter postcode', 'omnivalt'),\n        search_button: __('Search', 'omnivalt'),\n        select_button: __('Select', 'omnivalt'),\n        modal_open_button: __('Select in map', 'omnivalt'),\n        use_my_location: __('Use my location', 'omnivalt'),\n        my_position: __('Distance calculated from this point', 'omnivalt'),\n        not_found: __('Place not found', 'omnivalt'),\n        no_cities_found: __('There were no cities found for your search term', 'omnivalt'),\n        geo_not_supported: __('Geolocation is not supported', 'omnivalt')\n    },\n    select: {\n        not_found: __('Place not found', 'omnivalt'),\n        search_too_short: __('Value is too short', 'omnivalt'),\n        terminal_select: __('Select terminal', 'omnivalt'),\n        terminal_map_title: __('parcel terminals', 'omnivalt'),\n        terminal_map_search_title: __('Parcel terminals addresses', 'omnivalt'),\n        post_select: __('Select post office', 'omnivalt'),\n        post_map_title: __('post offices', 'omnivalt'),\n        post_map_search_title: __('Post offices addresses', 'omnivalt'),\n        enter_address: __('Enter postcode/address', 'omnivalt'),\n        show_in_map: __('Show in map', 'omnivalt'),\n        show_more: __('Show more', 'omnivalt')\n    }\n};\n","export const buildToken = (length) => {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    let counter = 0;\n    while (counter < length) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        counter += 1;\n    }\n    return result;\n};\n\nexport const addTokenToValue = (value, tokenLength = 0) => {\n    if ( ! tokenLength ) {\n        tokenLength = 5;\n    }\n    return {\n        value: value,\n        token: buildToken(tokenLength)\n    }\n};\n\nexport const isObjectEmpty = (obj) => {\n    for (const prop in obj) {\n        if (Object.hasOwn(obj, prop)) {\n            return false;\n        }\n    }\n    return true;\n};\n\nexport const getObjectValue = (obj, key, valueIsNot = null) => {\n    if ( isObjectEmpty(obj) || ! (key in obj) ) {\n        return valueIsNot;\n    }\n    return obj[key];\n};\n\nexport const insertAfter = (elem, newElem, afterElem = null) => {\n    afterElem = (afterElem) ? afterElem.nextSibling : elem.firstChild;\n    elem.insertBefore(newElem, afterElem);\n};\n\nexport const getJsonDataFromUrl = async (url) => {\n    let responseData = null;\n    try {\n        let response = await fetch(url);\n        responseData = await response.json();\n    } catch( error ) {\n        console.error('OMNIVA UTILS:', error);\n    }\n    return responseData;\n};\n","/**\n * Internal dependencies\n */\nimport { debug } from './debug';\n\n/**\n * Export functions\n */\nexport const getShippingCountry = (shippingAddress) => {\n    debug('Getting shipping country...');\n    if ( shippingAddress.country.trim() == \"\" ) {\n        debug('Shipping country LT');\n        return 'LT';\n    }\n\n    debug('Shipping country', shippingAddress.country);\n    return shippingAddress.country;\n};\n\nexport const getDestination = (shippingRates, getFirst = true) => {\n    debug('Getting destination...');\n    if ( ! shippingRates.length ) {\n        debug('Failed to get destination because shipping rates is empty');\n        return null;\n    }\n\n    let allDestinations = [];\n    for ( let i = 0; i < shippingRates.length; i++ ) {\n        if ( ! shippingRates[i].destination ) {\n            continue;\n        }\n        allDestinations.push(shippingRates[i].destination);\n    }\n\n    if ( ! allDestinations.length ) {\n        debug('Failed to get destination');\n        return null;\n    }\n\n    if ( ! getFirst ) {\n        debug('Destinations', allDestinations);\n        return allDestinations;\n    }\n\n    debug('First destination', allDestinations[0]);\n    return allDestinations[0];\n};\n\nexport const getActiveShippingRates = (shippingRates) => {\n    if ( ! shippingRates.length ) {\n        return [];\n    }\n\n    let activeRates = [];\n    for ( let i = 0; i < shippingRates.length; i++ ) {\n        if ( ! shippingRates[i].shipping_rates ) {\n            continue;\n        }\n        for ( let j = 0; j < shippingRates[i].shipping_rates.length; j++ ) {\n            activeRates.push(shippingRates[i].shipping_rates[j]);\n        }\n    }\n    \n    return activeRates;\n};\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"wc\"][\"blocksCheckout\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerCheckoutBlock, getRegisteredBlocks } from '@woocommerce/blocks-checkout';\n\nimport { Block } from './block';\nimport metadata from './block.json';\nimport './frontend.scss';\n\nregisterCheckoutBlock({\n\tmetadata,\n\tcomponent: Block,\n});\n"],"names":["useEffect","useState","useCallback","useRef","SelectControl","TextareaControl","useSelect","useDispatch","debounce","getDestination","getActiveShippingRates","getOmnivaData","getDynamicOmnivaData","isOmnivaTerminalMethod","getTerminalsByCountry","loadMap","removeMap","loadCustomSelect","txt","addTokenToValue","isObjectEmpty","debug","enableStateDebug","Block","checkoutExtensionData","extensions","terminalValidationErrorId","setExtensionData","mapValues","setMapValues","country","postcode","destination","setDestination","activeRates","setActiveRates","omnivaData","setOmnivaData","terminals","setTerminals","terminalsOptions","setTerminalsOptions","label","select_terminal","value","showBlock","setShowBlock","blockText","setBlockText","title","title_terminal","error","error_terminal","selectedOmnivaTerminal","setSelectedOmnivaTerminal","selectedRateId","setSelectedRateId","containerParams","setContainerParams","provider","type","containerErrorClass","setContainerErrorClass","elemTerminalSelectField","elemMapContainer","map","customSelect","debouncedSetExtensionData","namespace","key","setValidationErrors","clearValidationError","validationError","select","store","getValidationError","shippingRates","getCartData","length","i","rate_id","selected","trim","then","response","data","terminals_type","terminalsType","text_obj","title_post","select_post","error_post","preparedTerminalsOptions","push","name","id","current","innerHTML","showMap","autoselect","show_map","load_data","org_field","map_container","map_icon","selected_terminal","init","set_search_value","custom_container","autoselect_terminal","set_terminals","message","hidden","createElement","Fragment","className","options","onChange","ref","class","debug_enabled","prefix_debug","variables","console","log","stateName","stateValue","wcSettings","method","fetch","ajax_url","credentials","headers","json","catch","methodKey","Object","entries","methods","insertAfter","getJsonDataFromUrl","markSelectControlValue","selectElem","event","Event","bubbles","dispatchEvent","lib","elements","translations","params","set_param","icons_url","plugin_url","modal_header","modal_title_post","modal_title_terminal","providers","omniva","terminal_list_header","modal_search_title_post","modal_search_title_terminal","select_pickup_point","seach_header","search_placeholder","search_btn","search_button","select_btn","select_button","modal_open_btn","modal_open_button","geolocation_btn","use_my_location","your_position","my_position","nothing_found","not_found","no_cities_found","geolocation_not_supported","geo_not_supported","all_params","param_key","fail_value","TerminalMappingOmnivalt","setImagesPath","setTranslation","dom","setContainerParent","setParseMapTooltip","location","leafletCoords","tip","address","comment","build_actions","country_code","identifier","isModal","modalParent","hideContainer","hideSelectBtn","cssThemeRule","customTileServerUrl","customTileAttribution","terminalList","thisMap","sub","createIcon","refreshMarkerIcons","selected_location","getLocationById","setActiveTerminal","publish","searchNearest","UI","modal","querySelector","error_text","mapContainer","firstChild","removeChild","lastChild","loaded","this_dropdown","this_list","this_container","this_inner_container","this_loader","this_search","this_search_msg","this_show_more","max_show","active_timeout","too_short","search_too_short","post_select","terminal_select","enter_address","show_more","set_selected","listElem","link","linkText","document","classList","add","update_element_dropdown","placeholder","show_element_search_msg","show_element_loader","createTextNode","appendChild","href","show_element_inner_container","append","reset_terminals","refresh_element_list","addEventListener","e","preventDefault","show_element_all_options","toggle_dropdown","clearTimeout","setTimeout","geo_suggest","which","target","contains","text","selectedIndex","distance","activate_autoselect","firstElem","mark_element_list_selected","show","style","display","counter","city","html","listCityElem","boldTextElem","textElem","selectedElem","topOffset","clear_element_list","terminal","setAttribute","outerHTML","querySelectorAll","forEach","el","unmark_element_list_selected","remove","selectedTerminal","getAttribute","forceClose","hide_element_all_options","sort","a","b","localeCompare","geo_find_position","url","fetchData","location_result","candidates","sort_list_by_distance","y","x","suggest_result","suggestions","calculate_distance","coords","lat","lng","toFixed","dist1","dist2","parseFloat","lat1","lon1","lat2","lon2","R","dLat","to_radius","dLon","Math","sin","cos","c","atan2","sqrt","d","PI","__","block_options","cart_terminal_info","loading_field","cart_post_info","matkahuolto","terminal_map_title","terminal_map_search_title","post_map_title","post_map_search_title","show_in_map","buildToken","result","characters","charactersLength","charAt","floor","random","tokenLength","token","obj","prop","hasOwn","getObjectValue","valueIsNot","elem","newElem","afterElem","nextSibling","insertBefore","responseData","getShippingCountry","shippingAddress","getFirst","allDestinations","shipping_rates","j","registerCheckoutBlock","getRegisteredBlocks","metadata","component"],"sourceRoot":""}