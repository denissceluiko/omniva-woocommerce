{"version":3,"file":"terminal-selection-block/frontend.js","mappings":"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","sources":["webpack://omnivalt-woocommerce/./src/terminal-selection-block/block.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/omniva.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/options.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/terminals.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/text.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/wc-cart.js","webpack://omnivalt-woocommerce/external window \"React\"","webpack://omnivalt-woocommerce/external window \"lodash\"","webpack://omnivalt-woocommerce/external window [\"wc\",\"blocksCheckout\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"components\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"data\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"element\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"i18n\"]","webpack://omnivalt-woocommerce/webpack/bootstrap","webpack://omnivalt-woocommerce/webpack/runtime/compat get default export","webpack://omnivalt-woocommerce/webpack/runtime/define property getters","webpack://omnivalt-woocommerce/webpack/runtime/hasOwnProperty shorthand","webpack://omnivalt-woocommerce/webpack/runtime/make namespace object","webpack://omnivalt-woocommerce/./src/terminal-selection-block/frontend.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { useEffect, useState, useCallback } from '@wordpress/element';\nimport { SelectControl, TextareaControl } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { debounce } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { options } from './options';\nimport { getDestinationCountry, getActiveShippingRates } from './wc-cart';\nimport { isOmnivaTerminalMethod } from './omniva';\nimport { getTerminalsByCountry } from './terminals';\nimport { txt } from './text';\n\nexport const Block = ({ checkoutExtensionData, extensions }) => {\n    const terminalValidationErrorId = 'omnivalt_terminal';\n    const { setExtensionData } = checkoutExtensionData;\n    const [terminals, setTerminals] = useState([\n        {\n            label: txt.select_terminal,\n            value: '',\n        }\n    ]);\n    const [showBlock, setShowBlock] = useState(false);\n    const [selectedOmnivaTerminal, setSelectedOmnivaTerminal,] = useState('');\n    const [selectedRateId, setSelectedRateId] = useState('');\n\n    const debouncedSetExtensionData = useCallback(\n        debounce((namespace, key, value) => {\n            setExtensionData(namespace, key, value);\n        }, 1000),\n        [setExtensionData]\n    );\n\n    const { setValidationErrors, clearValidationError } = useDispatch(\n        'wc/store/validation'\n    );\n\n    const validationError = useSelect((select) => {\n        const store = select('wc/store/validation');\n        return store.getValidationError(terminalValidationErrorId);\n    });\n\n    const shippingRates = useSelect((select) => {\n        const store = select('wc/store/cart');\n        return store.getCartData().shippingRates;\n    });\n\n    useEffect(() => {\n        setShowBlock(false);\n        if ( shippingRates.length ) {\n            const activeRates = getActiveShippingRates(shippingRates);\n            for ( let i = 0; i < activeRates.length; i++ ) {\n                if ( ! activeRates[i].rate_id ) {\n                    continue;\n                }\n                if ( isOmnivaTerminalMethod(activeRates[i].rate_id) && activeRates[i].selected ) {\n                    setShowBlock(true);\n                }\n                if ( activeRates[i].selected ) {\n                    setSelectedRateId(activeRates[i].rate_id);\n                }\n            }\n        }\n    }, [\n        shippingRates\n    ]);\n\n    useEffect(() => {\n        if ( showBlock ) {\n            getTerminalsByCountry(getDestinationCountry(shippingRates)).then(terminals => {\n                if ( terminals.data ) {\n                    setTerminals(terminals.data);\n                }\n            });\n        }\n    }, [\n        showBlock\n    ]);\n\n    /* Handle changing the select's value */\n    useEffect(() => {\n        setExtensionData(\n            'omnivalt',\n            'selected_terminal',\n            selectedOmnivaTerminal\n        );\n\n        if ( selectedOmnivaTerminal !== '' ) {\n            clearValidationError(terminalValidationErrorId);\n            return;\n        }\n\n        if ( selectedOmnivaTerminal === '' ) {\n            setValidationErrors({\n                [terminalValidationErrorId]: {\n                    message: txt.error_terminal,\n                    hidden: false\n                }\n            });\n        }\n    }, [\n        setExtensionData,\n        selectedOmnivaTerminal,\n        setValidationErrors,\n        clearValidationError,\n    ]);\n\n    useEffect(() => {\n        setExtensionData(\n            'omnivalt',\n            'selected_rate_id',\n            selectedRateId\n        );\n    }, [\n        setExtensionData,\n        selectedRateId\n    ]);\n\n    useEffect(()=>{ //TODO: laikinai\n       console.log('Terminalas', selectedOmnivaTerminal);\n    },[selectedOmnivaTerminal]);\n\n    if ( ! showBlock ) {\n        return <></>\n    }\n\n    return (\n        <div className=\"omnivalt_terminal_select_container\">\n            <SelectControl\n                label={txt.title_terminal}\n                value={selectedOmnivaTerminal}\n                options={terminals}\n                onChange={setSelectedOmnivaTerminal}\n            />\n            {(validationError?.hidden || selectedOmnivaTerminal !== '') ? null : (\n                <div className=\"wc-block-components-validation-error omnivalt-terminal-error\">\n                    <span>{validationError?.message}</span>\n                </div>\n            )}\n        </div>\n    );\n};\n","/**\n * Export functions\n */\nexport const getOmnivaData = () => {\n    if ( ! wcSettings || ! wcSettings[\"omnivalt-blocks_data\"] ) {\n        return [];\n    }\n\n    return wcSettings[\"omnivalt-blocks_data\"];\n};\n\nexport const isOmnivaTerminalMethod = (methodKey) => {\n    for ( let [key, value] of Object.entries(getOmnivaData().methods) ) {\n        if ( methodKey == value ) {\n            return true;\n        }\n    }\n    return false;\n};\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nimport { txt } from './text';\n\nexport const options = [\n\t{\n\t\tlabel: txt.select_terminal,\n\t\tvalue: '',\n\t},\n\t{\n\t\tlabel: \"Testas\",\n\t\tvalue: 'test',\n\t},\n];\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nimport { txt } from './text';\n\nconst { omnivalt } = wcSettings.checkoutData.extensions;\n\nexport const getTerminalsByCountry = (country) => {\n    return fetch(`${omnivalt.ajax_url}?action=omnivalt_get_terminals&country=${country}`, {\n            method: 'GET',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Error fetching terminals:', error);\n            return [];\n        });\n};\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const txt = {\n    block_options: __('Block options', 'omnivalt'),\n    title_terminal: __('Parcel terminal', 'omnivalt'),\n    select_terminal: __('Select parcel terminal', 'omnivalt'),\n    error_terminal: __('Please select parcel terminal', 'omnivalt')\n};\n","/**\n * Export functions\n */\nexport const getShippingCountry = (shippingAddress) => {\n    if ( shippingAddress.country.trim() == \"\" ) {\n        return 'LT';\n    }\n    return shippingAddress.country;\n};\n\nexport const getDestinationCountry = (shippingRates) => {\n    if ( ! shippingRates.length ) {\n        return 'LT';\n    }\n\n    let country = '';\n    for ( let i = 0; i < shippingRates.length; i++ ) {\n        if ( ! shippingRates[i].destination.country || shippingRates[i].destination.country.trim() == \"\" ) {\n            continue;\n        }\n        country = shippingRates[i].destination.country.trim();\n    }\n    \n    return country;\n};\n\nexport const getActiveShippingRates = (shippingRates) => {\n    if ( ! shippingRates.length ) {\n        return [];\n    }\n\n    let activeRates = [];\n    for ( let i = 0; i < shippingRates.length; i++ ) {\n        if ( ! shippingRates[i].shipping_rates ) {\n            continue;\n        }\n        for ( let j = 0; j < shippingRates[i].shipping_rates.length; j++ ) {\n            activeRates.push(shippingRates[i].shipping_rates[j]);\n        }\n    }\n    \n    return activeRates;\n};\n","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"wc\"][\"blocksCheckout\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * External dependencies\n */\nimport { registerCheckoutBlock } from '@woocommerce/blocks-checkout';\n/**\n * Internal dependencies\n */\nimport { Block } from './block';\nimport metadata from './block.json';\n\nregisterCheckoutBlock({\n\tmetadata,\n\tcomponent: Block,\n});\n"],"names":["useEffect","useState","useCallback","SelectControl","TextareaControl","useSelect","useDispatch","debounce","options","getDestinationCountry","getActiveShippingRates","isOmnivaTerminalMethod","getTerminalsByCountry","txt","Block","checkoutExtensionData","extensions","terminalValidationErrorId","setExtensionData","terminals","setTerminals","label","select_terminal","value","showBlock","setShowBlock","selectedOmnivaTerminal","setSelectedOmnivaTerminal","selectedRateId","setSelectedRateId","debouncedSetExtensionData","namespace","key","setValidationErrors","clearValidationError","validationError","select","store","getValidationError","shippingRates","getCartData","length","activeRates","i","rate_id","selected","then","data","message","error_terminal","hidden","console","log","createElement","Fragment","className","title_terminal","onChange","getOmnivaData","wcSettings","methodKey","Object","entries","methods","__","omnivalt","checkoutData","country","fetch","ajax_url","method","credentials","headers","response","json","catch","error","block_options","getShippingCountry","shippingAddress","trim","destination","shipping_rates","j","push","registerCheckoutBlock","metadata","component"],"sourceRoot":""}