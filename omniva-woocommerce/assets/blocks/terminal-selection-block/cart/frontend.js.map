{"version":3,"file":"terminal-selection-block/cart/frontend.js","mappings":"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","sources":["webpack://omnivalt-woocommerce/./src/terminal-selection-block/cart/block.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/debug.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/omniva.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/text.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/utils.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/wc-cart.js","webpack://omnivalt-woocommerce/external window \"React\"","webpack://omnivalt-woocommerce/external window [\"wc\",\"blocksCheckout\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"data\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"element\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"i18n\"]","webpack://omnivalt-woocommerce/webpack/bootstrap","webpack://omnivalt-woocommerce/webpack/runtime/compat get default export","webpack://omnivalt-woocommerce/webpack/runtime/define property getters","webpack://omnivalt-woocommerce/webpack/runtime/hasOwnProperty shorthand","webpack://omnivalt-woocommerce/webpack/runtime/make namespace object","webpack://omnivalt-woocommerce/./src/terminal-selection-block/cart/frontend.js"],"sourcesContent":["import { useEffect, useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\nimport { getActiveShippingRates } from '../global/wc-cart';\nimport { isOmnivaTerminalMethod } from '../global/omniva';\nimport { txt } from '../global/text';\nimport { addTokenToValue } from '../global/utils';\nimport { debug, enableStateDebug } from '../global/debug';\n\nexport const Block = ({ className }) => {\n    const [selectedRateId, setSelectedRateId] = useState('');\n    const [showBlock, setShowBlock] = useState(addTokenToValue(false)); //Need token to avoid undetected change when changing true>false>true in other useEffect functions\n\n    enableStateDebug('Block show', showBlock);\n    enableStateDebug('Selected rate ID', selectedRateId);\n\n    const shippingRates = useSelect((select) => {\n        const store = select('wc/store/cart');\n        return store.getCartData().shippingRates;\n    });\n\n    useEffect(() => {\n        setShowBlock(addTokenToValue(false));\n        if ( shippingRates.length ) {\n            const activeRates = getActiveShippingRates(shippingRates);\n            debug('Received ' + activeRates.length + ' active rates:', activeRates);\n            for ( let i = 0; i < activeRates.length; i++ ) {\n                if ( ! activeRates[i].rate_id ) {\n                    continue;\n                }\n                if ( isOmnivaTerminalMethod(activeRates[i].rate_id) && activeRates[i].selected ) {\n                    setShowBlock(addTokenToValue(true));\n                }\n                if ( activeRates[i].selected ) {\n                    setSelectedRateId(activeRates[i].rate_id);\n                }\n            }\n        } else {\n            debug('Empty param: shippingRates');\n        }\n    }, [\n        shippingRates\n    ]);\n\n    if ( ! showBlock.value ) {\n        return <></>\n    }\n\n    return (\n        <div className={'wc-block-components-totals-wrapper'}>\n            <span className={'wc-block-components-totals-item'}>{txt.cart_terminal_info}</span>\n        </div>\n    );\n};\n","/**\n * External dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { getOmnivaData } from './omniva';\n\n/**\n * Variables\n */\nconst debug_enabled = getOmnivaData().debug;\nconst prefix_debug = 'OMNIVA BLOCKS DEBUG:';\n\n/**\n * Export functions\n */\nexport const debug = (...variables) => {\n    if ( ! debug_enabled ) {\n        return;\n    }\n    \n    console.log(prefix_debug, ...variables);\n};\n\nexport const enableStateDebug = (stateName, stateValue) => {\n    if ( ! debug_enabled ) {\n        return;\n    }\n\n    useEffect(() => {\n        console.log(prefix_debug, 'Changed state \"' + stateName + '\" value to:', stateValue);\n    }, [\n        stateValue\n    ]);\n};\n","/**\n * Internal dependencies\n */\nimport { debug } from './debug';\n\n/**\n * Export functions\n */\nexport const getOmnivaData = () => {\n    if ( ! wcSettings || ! wcSettings[\"omnivalt-blocks_data\"] ) {\n        return [];\n    }\n\n    return wcSettings[\"omnivalt-blocks_data\"];\n};\n\nexport const getDynamicOmnivaData = (country, method) => {\n    return fetch(`${getOmnivaData().ajax_url}?action=omnivalt_get_dynamic_data&country=${country}&method=${method}`, {\n        method: 'GET',\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    })\n    .then(response => response.json())\n    .catch(error => {\n        console.error('Error fetching terminals:', error);\n        return [];\n    });\n};\n\nexport const isOmnivaTerminalMethod = (methodKey) => {\n    for ( let [key, value] of Object.entries(getOmnivaData().methods) ) {\n        if ( methodKey == value ) {\n            debug('Detected Omniva method', value);\n            return true;\n        }\n    }\n\n    return false;\n};\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const txt = {\n    block_options: __('Block options', 'omnivalt'),\n    title_terminal: __('Parcel terminal', 'omnivalt'),\n    select_terminal: __('Select parcel terminal', 'omnivalt'),\n    error_terminal: __('Please select parcel terminal', 'omnivalt'),\n    cart_terminal_info: __('You can choose the parcel terminal on the Checkout page', 'omnivalt'),\n    title_post: __('Post office', 'omnivalt'),\n    select_post: __('Select post office', 'omnivalt'),\n    error_post: __('Please select post office', 'omnivalt'),\n    cart_post_info: __('You can choose the post office on the Checkout page', 'omnivalt'),\n    providers: {\n        omniva: __('Omniva', 'omnivalt'),\n        matkahuolto: __('Matkahuolto', 'omnivalt')\n    },\n    map: {\n        modal_title_post: __('post offices', 'omnivalt'),\n        modal_title_terminal: __('parcel terminals', 'omnivalt'),\n        modal_search_title_post: __('Post offices list', 'omnivalt'),\n        modal_search_title_terminal: __('Parcel terminals list', 'omnivalt'),\n        select_post: __('Select post office', 'omnivalt'),\n        select_terminal: __('Select terminal', 'omnivalt'),\n        search_placeholder: __('Enter postcode', 'omnivalt'),\n        search_button: __('Search', 'omnivalt'),\n        select_button: __('Select', 'omnivalt'),\n        modal_open_button: __('Select in map', 'omnivalt'),\n        use_my_location: __('Use my location', 'omnivalt'),\n        my_position: __('Distance calculated from this point', 'omnivalt'),\n        not_found: __('Place not found', 'omnivalt'),\n        no_cities_found: __('There were no cities found for your search term', 'omnivalt'),\n        geo_not_supported: __('Geolocation is not supported', 'omnivalt')\n    }\n};\n","export const buildToken = (length) => {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    let counter = 0;\n    while (counter < length) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        counter += 1;\n    }\n    return result;\n};\n\nexport const addTokenToValue = (value, tokenLength = 0) => {\n    if ( ! tokenLength ) {\n        tokenLength = 5;\n    }\n    return {\n        value: value,\n        token: buildToken(tokenLength)\n    }\n};\n\nexport const isObjectEmpty = (obj) => {\n    for (const prop in obj) {\n        if (Object.hasOwn(obj, prop)) {\n            return false;\n        }\n    }\n    return true;\n};\n\nexport const getObjectValue = (obj, key, valueIsNot = null) => {\n    if ( isObjectEmpty(obj) || ! (key in obj) ) {\n        return valueIsNot;\n    }\n    return obj[key];\n};\n","/**\n * Internal dependencies\n */\nimport { debug } from './debug';\n\n/**\n * Export functions\n */\nexport const getShippingCountry = (shippingAddress) => {\n    debug('Getting shipping country...');\n    if ( shippingAddress.country.trim() == \"\" ) {\n        debug('Shipping country LT');\n        return 'LT';\n    }\n\n    debug('Shipping country', shippingAddress.country);\n    return shippingAddress.country;\n};\n\nexport const getDestinationCountry = (shippingRates) => {\n    debug('Getting destination country...');\n    if ( ! shippingRates.length ) {\n        debug('Destination country LT');\n        return 'LT';\n    }\n\n    let country = '';\n    for ( let i = 0; i < shippingRates.length; i++ ) {\n        if ( ! shippingRates[i].destination.country || shippingRates[i].destination.country.trim() == \"\" ) {\n            continue;\n        }\n        country = shippingRates[i].destination.country.trim();\n    }\n    \n    debug('Destination country', country);\n    return country;\n};\n\nexport const getActiveShippingRates = (shippingRates) => {\n    if ( ! shippingRates.length ) {\n        return [];\n    }\n\n    let activeRates = [];\n    for ( let i = 0; i < shippingRates.length; i++ ) {\n        if ( ! shippingRates[i].shipping_rates ) {\n            continue;\n        }\n        for ( let j = 0; j < shippingRates[i].shipping_rates.length; j++ ) {\n            activeRates.push(shippingRates[i].shipping_rates[j]);\n        }\n    }\n    \n    return activeRates;\n};\n","module.exports = window[\"React\"];","module.exports = window[\"wc\"][\"blocksCheckout\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerCheckoutBlock } from '@woocommerce/blocks-checkout';\n\nimport { Block } from './block';\nimport metadata from './block.json';\n\nregisterCheckoutBlock({\n\tmetadata,\n\tcomponent: Block\n});\n"],"names":["useEffect","useState","useSelect","getActiveShippingRates","isOmnivaTerminalMethod","txt","addTokenToValue","debug","enableStateDebug","Block","className","selectedRateId","setSelectedRateId","showBlock","setShowBlock","shippingRates","select","store","getCartData","length","activeRates","i","rate_id","selected","value","createElement","Fragment","cart_terminal_info","getOmnivaData","debug_enabled","prefix_debug","variables","console","log","stateName","stateValue","wcSettings","getDynamicOmnivaData","country","method","fetch","ajax_url","credentials","headers","then","response","json","catch","error","methodKey","key","Object","entries","methods","__","block_options","title_terminal","select_terminal","error_terminal","title_post","select_post","error_post","cart_post_info","providers","omniva","matkahuolto","map","modal_title_post","modal_title_terminal","modal_search_title_post","modal_search_title_terminal","search_placeholder","search_button","select_button","modal_open_button","use_my_location","my_position","not_found","no_cities_found","geo_not_supported","buildToken","result","characters","charactersLength","counter","charAt","Math","floor","random","tokenLength","token","isObjectEmpty","obj","prop","hasOwn","getObjectValue","valueIsNot","getShippingCountry","shippingAddress","trim","getDestinationCountry","destination","shipping_rates","j","push","registerCheckoutBlock","metadata","component"],"sourceRoot":""}