{"version":3,"file":"terminal-selection-block/checkout/frontend.js","mappings":"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","sources":["webpack://omnivalt-woocommerce/./src/terminal-selection-block/checkout/block.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/debug.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/omniva.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/terminals.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/text.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/utils.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/global/wc-cart.js","webpack://omnivalt-woocommerce/./src/terminal-selection-block/checkout/frontend.scss","webpack://omnivalt-woocommerce/external window \"React\"","webpack://omnivalt-woocommerce/external window \"lodash\"","webpack://omnivalt-woocommerce/external window [\"wc\",\"blocksCheckout\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"components\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"data\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"element\"]","webpack://omnivalt-woocommerce/external window [\"wp\",\"i18n\"]","webpack://omnivalt-woocommerce/webpack/bootstrap","webpack://omnivalt-woocommerce/webpack/runtime/compat get default export","webpack://omnivalt-woocommerce/webpack/runtime/define property getters","webpack://omnivalt-woocommerce/webpack/runtime/hasOwnProperty shorthand","webpack://omnivalt-woocommerce/webpack/runtime/make namespace object","webpack://omnivalt-woocommerce/./src/terminal-selection-block/checkout/frontend.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { useEffect, useState, useCallback, useRef } from '@wordpress/element';\nimport { SelectControl, TextareaControl } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { debounce } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { getDestinationCountry, getActiveShippingRates } from '../global/wc-cart';\nimport { getOmnivaData, getDynamicOmnivaData, isOmnivaTerminalMethod } from '../global/omniva';\nimport { getTerminalsByCountry, loadMap, removeMap } from '../global/terminals';\nimport { txt } from '../global/text';\nimport { addTokenToValue, buildToken, isObjectEmpty, getObjectValue } from '../global/utils';\nimport { debug, enableStateDebug } from '../global/debug';\n\nexport const Block = ({ checkoutExtensionData, extensions }) => {\n    const terminalValidationErrorId = 'omnivalt_terminal';\n    const { setExtensionData } = checkoutExtensionData;\n    const [country, setCountry] = useState('');\n    const [activeRates, setActiveRates] = useState([]);\n    const [omnivaData, setOmnivaData] = useState({});\n    const [terminals, setTerminals] = useState([]);\n    const [terminalsOptions, setTerminalsOptions] = useState([\n        {\n            label: txt.select_terminal,\n            value: '',\n        }\n    ]);\n    const [showBlock, setShowBlock] = useState(addTokenToValue(false)); //Need token to avoid undetected change when changing true>false>true in other useEffect functions\n    const [blockText, setBlockText] = useState({\n        title: txt.title_terminal,\n        label: txt.select_terminal,\n        error: txt.error_terminal,\n    });\n    const [selectedOmnivaTerminal, setSelectedOmnivaTerminal,] = useState('');\n    const [selectedRateId, setSelectedRateId] = useState('');\n    const [containerParams, setContainerParams] = useState({\n        provider: 'unknown',\n        type: 'unknown'\n    })\n    const elemTerminalSelectField = useRef(null);\n    const elemMapContainer = useRef(null);\n    const map = loadMap();\n\n    enableStateDebug('Block show', showBlock);\n    enableStateDebug('Terminals list', terminals);\n    enableStateDebug('Selected country', country);\n    enableStateDebug('Selected terminal', selectedOmnivaTerminal);\n    enableStateDebug('Selected rate ID', selectedRateId);\n    enableStateDebug('Omniva dynamic data', omnivaData);\n\n    const debouncedSetExtensionData = useCallback(\n        debounce((namespace, key, value) => {\n            setExtensionData(namespace, key, value);\n        }, 1000),\n        [setExtensionData]\n    );\n\n    const { setValidationErrors, clearValidationError } = useDispatch(\n        'wc/store/validation'\n    );\n\n    const validationError = useSelect((select) => {\n        const store = select('wc/store/validation');\n        return store.getValidationError(terminalValidationErrorId);\n    });\n\n    const shippingRates = useSelect((select) => {\n        const store = select('wc/store/cart');\n        return store.getCartData().shippingRates;\n    });\n\n    useEffect(() => {\n        if ( shippingRates.length ) {\n            setActiveRates(getActiveShippingRates(shippingRates));\n        } else {\n            debug('Empty param: shippingRates');\n        }\n    }, [\n        shippingRates\n    ]);\n\n    useEffect(() => {\n        setShowBlock(addTokenToValue(false));\n        debug('Received ' + activeRates.length + ' active rates:', activeRates);\n        for ( let i = 0; i < activeRates.length; i++ ) {\n            if ( ! activeRates[i].rate_id ) {\n                continue;\n            }\n            if ( ! activeRates[i].selected ) {\n                continue;\n            }\n            if ( isOmnivaTerminalMethod(activeRates[i].rate_id) && activeRates[i].selected ) {\n                setShowBlock(addTokenToValue(true));\n            }\n            setSelectedRateId(activeRates[i].rate_id);\n        }\n    }, [\n        activeRates\n    ]);\n\n    useEffect(() => {\n        if ( showBlock.value ) {\n            setCountry(getDestinationCountry(shippingRates));\n        }\n    }, [\n        showBlock\n    ]);\n\n    useEffect(() => {\n        if ( ! isOmnivaTerminalMethod(selectedRateId) ) {\n            debug('The selected delivery method is not delivery to the Omniva terminal');\n            return;\n        }\n        if ( ! selectedRateId ) {\n            debug('Skipped retrieving dynamic Omniva data because the value of the selected rate ID is not received');\n            return;\n        }\n        if ( country == '' ) {\n            debug('Skipped retrieving dynamic Omniva data because the value of the country is empty');\n            return;\n        }\n\n        getDynamicOmnivaData(country, selectedRateId).then(response => {\n            if ( response.data ) {\n                const data = response.data;\n                data.country = country;\n                setOmnivaData(data);\n            } else {\n                debug('Failed to get dynamic Omniva data');\n            }\n        });\n    }, [\n        country,\n        selectedRateId\n    ]);\n\n    useEffect(() => {\n        if ( isObjectEmpty(omnivaData) ) {\n            debug('Skipped getting Terminals because the Omniva dynamic data is empty');\n            return;\n        }\n        if ( omnivaData.terminals_type === false ) {\n            debug('The selected delivery method does not have a terminals');\n            return;\n        }\n\n        const terminalsType = ('terminals_type' in omnivaData) ? omnivaData.terminals_type : 'omniva';\n        getTerminalsByCountry(country, terminalsType).then(response => {\n            if ( response.data ) {\n                setTerminals(response.data);\n            } else {\n                debug('Failed to get terminals list');\n            }\n        });\n    }, [\n        omnivaData\n    ]);\n\n    useEffect(() => {\n        const text_obj = {\n            title: txt.title_terminal,\n            label: txt.select_terminal,\n            error: txt.error_terminal,\n        };\n        if ( ! isObjectEmpty(omnivaData) && ('terminals_type' in omnivaData) ) {\n            if ( omnivaData.terminals_type == 'post' ) {\n                text_obj.title = txt.title_post;\n                text_obj.label = txt.select_post;\n                text_obj.error = txt.error_post;\n            }\n        }\n        setBlockText(text_obj);\n    }, [\n        omnivaData\n    ]);\n\n    useEffect(() => {\n        if ( ! terminals.length ) {\n            debug('Skipped updating terminals block because the terminals list is empty');\n            return;\n        }\n\n        debug('Updating terminal selection options...');\n        const preparedTerminalsOptions = [\n            {\n                label: blockText.label,\n                value: '',\n            }\n        ];\n        for ( let i = 0; i < terminals.length; i++ ) {\n            preparedTerminalsOptions.push({\n                label: terminals[i].name,\n                value: terminals[i].id\n            });\n        }\n        setTerminalsOptions(preparedTerminalsOptions);\n\n        if ( elemMapContainer.current ) {\n            if ( elemMapContainer.current.innerHTML !== \"\" ) {\n                debug('Removing previous map...');\n                removeMap(elemMapContainer.current);\n            }\n            let showMap = null;\n            if ( 'show_map' in getOmnivaData() ) {\n                showMap = getOmnivaData().show_map;\n                setContainerParams({\n                    provider: ('provider' in omnivaData) ? omnivaData.provider : 'unknown',\n                    type: ('terminals_type' in omnivaData) ? omnivaData.terminals_type : 'unknown'\n                });\n            }\n            if ( showMap === true ) {\n                debug('Initializing TMJS map...');\n                map.load_data({\n                    org_field: elemTerminalSelectField.current,\n                    map_container: elemMapContainer.current,\n                    terminals_type: omnivaData.terminals_type,\n                    provider: omnivaData.provider,\n                    country: country,\n                    map_icon: omnivaData.map_icon,\n                    selected_terminal: selectedOmnivaTerminal\n                });\n                map.init(terminals);\n            } else if ( showMap === false ) {\nconsole.log('Nerodo zemes'); //TODO: Padaryti custom select field\n            } else {\n                debug('Failed to get map display param');\n            }\n        } else {\n            debug('Failed to get map container');\n        }\n    }, [\n        terminals\n    ]);\n\n    /* Handle changing the select's value */\n    useEffect(() => {\n        setExtensionData(\n            'omnivalt',\n            'selected_terminal',\n            selectedOmnivaTerminal\n        );\n\n        if ( selectedOmnivaTerminal !== '' ) {\n            clearValidationError(terminalValidationErrorId);\n            return;\n        }\n\n        if ( selectedOmnivaTerminal === '' ) {\n            setValidationErrors({\n                [terminalValidationErrorId]: {\n                    message: blockText.error,\n                    hidden: false\n                }\n            });\n        }\n    }, [\n        setExtensionData,\n        selectedOmnivaTerminal,\n        setValidationErrors,\n        clearValidationError,\n        blockText\n    ]);\n\n    useEffect(() => {\n        setExtensionData(\n            'omnivalt',\n            'selected_rate_id',\n            selectedRateId\n        );\n    }, [\n        setExtensionData,\n        selectedRateId\n    ]);\n\n    if ( ! showBlock.value ) {\n        return <></>\n    }\n\n    return (\n        <div className={`omnivalt-terminal-select-container provider-${containerParams.provider} type-${containerParams.type}`}>\n            <div id=\"omnivalt-terminal-container-org\" className=\"omnivalt-org-select\">\n                <SelectControl\n                    id=\"omnivalt-terminal-select-field\"\n                    label={blockText.title}\n                    value={selectedOmnivaTerminal}\n                    options={terminalsOptions}\n                    onChange={(value) => setSelectedOmnivaTerminal(value)}\n                    ref={elemTerminalSelectField}\n                />\n                {(validationError?.hidden || selectedOmnivaTerminal !== '') ? null : (\n                    <div className=\"wc-block-components-validation-error omnivalt-terminal-error\">\n                        <span>{validationError?.message}</span>\n                    </div>\n                )}\n            </div>\n            <div id=\"omnivalt-terminal-container-map\" className=\"omnivalt-map-select\" ref={elemMapContainer}></div>\n        </div>\n    );\n};\n","/**\n * External dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { getOmnivaData } from './omniva';\n\n/**\n * Variables\n */\nconst debug_enabled = getOmnivaData().debug;\nconst prefix_debug = 'OMNIVA BLOCKS DEBUG:';\n\n/**\n * Export functions\n */\nexport const debug = (...variables) => {\n    if ( ! debug_enabled ) {\n        return;\n    }\n    \n    console.log(prefix_debug, ...variables);\n};\n\nexport const enableStateDebug = (stateName, stateValue) => {\n    if ( ! debug_enabled ) {\n        return;\n    }\n\n    useEffect(() => {\n        console.log(prefix_debug, 'Changed state \"' + stateName + '\" value to:', stateValue);\n    }, [\n        stateValue\n    ]);\n};\n","/**\n * Internal dependencies\n */\nimport { debug } from './debug';\n\n/**\n * Export functions\n */\nexport const getOmnivaData = () => {\n    if ( ! wcSettings || ! wcSettings[\"omnivalt-blocks_data\"] ) {\n        return [];\n    }\n\n    return wcSettings[\"omnivalt-blocks_data\"];\n};\n\nexport const getDynamicOmnivaData = (country, method) => {\n    return fetch(`${getOmnivaData().ajax_url}?action=omnivalt_get_dynamic_data&country=${country}&method=${method}`, {\n        method: 'GET',\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    })\n    .then(response => response.json())\n    .catch(error => {\n        console.error('Error fetching terminals:', error);\n        return [];\n    });\n};\n\nexport const isOmnivaTerminalMethod = (methodKey) => {\n    for ( let [key, value] of Object.entries(getOmnivaData().methods) ) {\n        if ( methodKey == value ) {\n            debug('Detected Omniva method', value);\n            return true;\n        }\n    }\n\n    return false;\n};\n","import { txt } from './text';\nimport { getOmnivaData } from './omniva';\n\nexport const getTerminalsByCountry = (country, type) => {\n    return fetch(`${getOmnivaData().ajax_url}?action=omnivalt_get_terminals&country=${country}&type=${type}`, {\n        method: 'GET',\n        credentials: 'same-origin',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    })\n    .then(response => response.json())\n    .catch(error => {\n        console.error('Error fetching terminals:', error);\n        return [];\n    });\n};\n\nexport const loadMap = () => {\n    return {\n        lib: null,\n        elements: {},\n        translations: {},\n        params: {},\n\n        load_data: function (params) {\n            this.elements = {\n                org_field: this.set_param(params, 'org_field', null),\n                map_container: this.set_param(params, 'map_container', null)\n            };\n            this.params = {\n                provider: this.set_param(params, 'provider', 'omniva'),\n                terminals_type: this.set_param(params, 'terminals_type', 'terminal'),\n                selected_terminal: this.set_param(params, 'selected_terminal', ''),\n                icons_url: this.set_param(params, 'icons_url', `${getOmnivaData().plugin_url}assets/img/terminal-mapping/`),\n                country: this.set_param(params, 'country', 'LT'),\n                //show_map: getOmnivaData().show_map,\n                map_icon: this.set_param(params, 'map_icon', 'omnivalt_icon.png')\n            }\n            const modal_header = (this.params.terminals_type == 'post') ? txt.map.modal_title_post : txt.map.modal_title_terminal;\n            const provider = (this.params.provider in txt.providers) ? txt.providers[this.params.provider] : txt.providers.omniva;\n            this.translations = {\n                modal_header: provider + \" \" + modal_header, //TODO: Prideti provider gavima\n                terminal_list_header: (this.params.terminals_type == 'post') ? txt.map.modal_search_title_post : txt.map.modal_search_title_terminal,\n                select_pickup_point: (this.params.terminals_type == 'post') ? txt.map.select_post : txt.map.select_terminal,\n                seach_header: txt.map.search_placeholder,\n                search_btn: txt.map.search_button,\n                select_btn: txt.map.select_button,\n                modal_open_btn: txt.map.modal_open_button,\n                geolocation_btn: txt.map.use_my_location,\n                your_position: txt.map.my_position,\n                nothing_found: txt.map.not_found,\n                no_cities_found: txt.map.no_cities_found,\n                geolocation_not_supported: txt.map.geo_not_supported\n            };\n        },\n\n        set_param: function ( all_params, param_key, fail_value = null ) {\n            if ( ! (param_key in all_params) ) {\n                return fail_value;\n            }\n            return all_params[param_key];\n        },\n\n        init: function ( terminals ) {\n            if ( ! this.elements.map_container ) {\n                console.error('OMNIVA MAP: Failed to get a container for the map');\n                return;\n            }\n            this.lib = new TerminalMappingOmnivalt();\n            \n            this.lib.setImagesPath(this.params.icons_url);\n            this.lib.setTranslation(this.translations);\n            this.lib.dom.setContainerParent(this.elements.map_container);\n\n            this.lib.setParseMapTooltip((location, leafletCoords) => {\n                let tip = location.address + \" [\" + location.id + \"]\";\n                if ( location.comment ) {\n                    tip += \"<br/><i>\" + location.comment + \"</i>\";\n                }\n                return tip;\n            });\n\n            this.build_actions(this);\n\n            this.lib.init({\n                country_code: this.params.country,\n                identifier: 'omnivalt',\n                isModal: true,\n                modalParent: this.elements.map_container,\n                hideContainer: true,\n                hideSelectBtn: true,\n                cssThemeRule: 'tmjs-default-theme',\n                customTileServerUrl: 'https://maps.omnivasiunta.lt/tile/{z}/{x}/{y}.png',\n                customTileAttribution: '&copy; <a href=\"https://www.omniva.lt\">Omniva</a>' + ' | Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>',\n                terminalList: terminals,\n            });\n        },\n\n        build_actions: function(thisMap) {\n            this.lib.sub('tmjs-ready', function(data) {\n                thisMap.lib.map.createIcon('omnivalt_icon', thisMap.params.icons_url + thisMap.params.map_icon);\n                thisMap.lib.map.refreshMarkerIcons();\n                \n                let selected_location = data.map.getLocationById(thisMap.params.selected_terminal);\n                if ( typeof(selected_location) != 'undefined' && selected_location != null ) {\n                    thisMap.lib.dom.setActiveTerminal(selected_location);\n                    thisMap.lib.publish('terminal-selected', selected_location);\n                }\n            });\n\n            this.lib.sub(\"terminal-selected\", function(data) {\n                thisMap.elements.org_field.value = data.id;\n                const event = new Event('change', { bubbles: true });\n                thisMap.elements.org_field.dispatchEvent(event);\n                thisMap.lib.dom.setActiveTerminal(data.id);\n                thisMap.lib.publish(\"close-map-modal\");\n            });\n        }\n    };\n};\n\nexport const removeMap = ( mapContainer ) => {\n    while ( mapContainer.firstChild ) {\n        mapContainer.removeChild(mapContainer.lastChild);\n    }\n};\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const txt = {\n    block_options: __('Block options', 'omnivalt'),\n    title_terminal: __('Parcel terminal', 'omnivalt'),\n    select_terminal: __('Select parcel terminal', 'omnivalt'),\n    error_terminal: __('Please select parcel terminal', 'omnivalt'),\n    cart_terminal_info: __('You can choose the parcel terminal on the Checkout page', 'omnivalt'),\n    title_post: __('Post office', 'omnivalt'),\n    select_post: __('Select post office', 'omnivalt'),\n    error_post: __('Please select post office', 'omnivalt'),\n    cart_post_info: __('You can choose the post office on the Checkout page', 'omnivalt'),\n    providers: {\n        omniva: __('Omniva', 'omnivalt'),\n        matkahuolto: __('Matkahuolto', 'omnivalt')\n    },\n    map: {\n        modal_title_post: __('post offices', 'omnivalt'),\n        modal_title_terminal: __('parcel terminals', 'omnivalt'),\n        modal_search_title_post: __('Post offices list', 'omnivalt'),\n        modal_search_title_terminal: __('Parcel terminals list', 'omnivalt'),\n        select_post: __('Select post office', 'omnivalt'),\n        select_terminal: __('Select terminal', 'omnivalt'),\n        search_placeholder: __('Enter postcode', 'omnivalt'),\n        search_button: __('Search', 'omnivalt'),\n        select_button: __('Select', 'omnivalt'),\n        modal_open_button: __('Select in map', 'omnivalt'),\n        use_my_location: __('Use my location', 'omnivalt'),\n        my_position: __('Distance calculated from this point', 'omnivalt'),\n        not_found: __('Place not found', 'omnivalt'),\n        no_cities_found: __('There were no cities found for your search term', 'omnivalt'),\n        geo_not_supported: __('Geolocation is not supported', 'omnivalt')\n    }\n};\n","export const buildToken = (length) => {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n    let counter = 0;\n    while (counter < length) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n        counter += 1;\n    }\n    return result;\n};\n\nexport const addTokenToValue = (value, tokenLength = 0) => {\n    if ( ! tokenLength ) {\n        tokenLength = 5;\n    }\n    return {\n        value: value,\n        token: buildToken(tokenLength)\n    }\n};\n\nexport const isObjectEmpty = (obj) => {\n    for (const prop in obj) {\n        if (Object.hasOwn(obj, prop)) {\n            return false;\n        }\n    }\n    return true;\n};\n\nexport const getObjectValue = (obj, key, valueIsNot = null) => {\n    if ( isObjectEmpty(obj) || ! (key in obj) ) {\n        return valueIsNot;\n    }\n    return obj[key];\n};\n","/**\n * Internal dependencies\n */\nimport { debug } from './debug';\n\n/**\n * Export functions\n */\nexport const getShippingCountry = (shippingAddress) => {\n    debug('Getting shipping country...');\n    if ( shippingAddress.country.trim() == \"\" ) {\n        debug('Shipping country LT');\n        return 'LT';\n    }\n\n    debug('Shipping country', shippingAddress.country);\n    return shippingAddress.country;\n};\n\nexport const getDestinationCountry = (shippingRates) => {\n    debug('Getting destination country...');\n    if ( ! shippingRates.length ) {\n        debug('Destination country LT');\n        return 'LT';\n    }\n\n    let country = '';\n    for ( let i = 0; i < shippingRates.length; i++ ) {\n        if ( ! shippingRates[i].destination.country || shippingRates[i].destination.country.trim() == \"\" ) {\n            continue;\n        }\n        country = shippingRates[i].destination.country.trim();\n    }\n    \n    debug('Destination country', country);\n    return country;\n};\n\nexport const getActiveShippingRates = (shippingRates) => {\n    if ( ! shippingRates.length ) {\n        return [];\n    }\n\n    let activeRates = [];\n    for ( let i = 0; i < shippingRates.length; i++ ) {\n        if ( ! shippingRates[i].shipping_rates ) {\n            continue;\n        }\n        for ( let j = 0; j < shippingRates[i].shipping_rates.length; j++ ) {\n            activeRates.push(shippingRates[i].shipping_rates[j]);\n        }\n    }\n    \n    return activeRates;\n};\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"wc\"][\"blocksCheckout\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerCheckoutBlock, getRegisteredBlocks } from '@woocommerce/blocks-checkout';\n\nimport { Block } from './block';\nimport metadata from './block.json';\nimport './frontend.scss';\n\nregisterCheckoutBlock({\n\tmetadata,\n\tcomponent: Block,\n});\n"],"names":["useEffect","useState","useCallback","useRef","SelectControl","TextareaControl","useSelect","useDispatch","debounce","getDestinationCountry","getActiveShippingRates","getOmnivaData","getDynamicOmnivaData","isOmnivaTerminalMethod","getTerminalsByCountry","loadMap","removeMap","txt","addTokenToValue","buildToken","isObjectEmpty","getObjectValue","debug","enableStateDebug","Block","checkoutExtensionData","extensions","terminalValidationErrorId","setExtensionData","country","setCountry","activeRates","setActiveRates","omnivaData","setOmnivaData","terminals","setTerminals","terminalsOptions","setTerminalsOptions","label","select_terminal","value","showBlock","setShowBlock","blockText","setBlockText","title","title_terminal","error","error_terminal","selectedOmnivaTerminal","setSelectedOmnivaTerminal","selectedRateId","setSelectedRateId","containerParams","setContainerParams","provider","type","elemTerminalSelectField","elemMapContainer","map","debouncedSetExtensionData","namespace","key","setValidationErrors","clearValidationError","validationError","select","store","getValidationError","shippingRates","getCartData","length","i","rate_id","selected","then","response","data","terminals_type","terminalsType","text_obj","title_post","select_post","error_post","preparedTerminalsOptions","push","name","id","current","innerHTML","showMap","show_map","load_data","org_field","map_container","map_icon","selected_terminal","init","console","log","message","hidden","createElement","Fragment","className","options","onChange","ref","debug_enabled","prefix_debug","variables","stateName","stateValue","wcSettings","method","fetch","ajax_url","credentials","headers","json","catch","methodKey","Object","entries","methods","lib","elements","translations","params","set_param","icons_url","plugin_url","modal_header","modal_title_post","modal_title_terminal","providers","omniva","terminal_list_header","modal_search_title_post","modal_search_title_terminal","select_pickup_point","seach_header","search_placeholder","search_btn","search_button","select_btn","select_button","modal_open_btn","modal_open_button","geolocation_btn","use_my_location","your_position","my_position","nothing_found","not_found","no_cities_found","geolocation_not_supported","geo_not_supported","all_params","param_key","fail_value","TerminalMappingOmnivalt","setImagesPath","setTranslation","dom","setContainerParent","setParseMapTooltip","location","leafletCoords","tip","address","comment","build_actions","country_code","identifier","isModal","modalParent","hideContainer","hideSelectBtn","cssThemeRule","customTileServerUrl","customTileAttribution","terminalList","thisMap","sub","createIcon","refreshMarkerIcons","selected_location","getLocationById","setActiveTerminal","publish","event","Event","bubbles","dispatchEvent","mapContainer","firstChild","removeChild","lastChild","__","block_options","cart_terminal_info","cart_post_info","matkahuolto","result","characters","charactersLength","counter","charAt","Math","floor","random","tokenLength","token","obj","prop","hasOwn","valueIsNot","getShippingCountry","shippingAddress","trim","destination","shipping_rates","j","registerCheckoutBlock","getRegisteredBlocks","metadata","component"],"sourceRoot":""}